<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Kinds of Messages - Programming with Actors</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Programming with Actors</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="kinds-of-messages"><a class="header" href="#kinds-of-messages">Kinds of Messages</a></h1>
<p>In designing actor systems and distributed architectures, especially those leaning towards event-driven principles or <a href="https://www.martinfowler.com/bliki/CQRS.html">CQRS</a> (Command Query Responsibility Segregation), it's helpful to categorize the different types of messages flowing through the system based on their purpose. The primary distinctions are typically made between Commands, Events, and Queries.</p>
<h2 id="commands-expressing-intent"><a class="header" href="#commands-expressing-intent">Commands (Expressing Intent)</a></h2>
<p><strong>Commands</strong> represent a user's or system's <em>intent</em> to perform an action or change the state of the system. They are imperative requests. A Command is a request for the system to <em>do something</em>.</p>
<ul>
<li>
<p><strong>Nature:</strong> Imperative, a request.</p>
</li>
<li>
<p><strong>Direction:</strong> Usually directed at a specific actor or a well-defined endpoint responsible for handling that specific type of action (e.g., an aggregate actor in DDD).</p>
</li>
<li>
<p><strong>Expectation:</strong> The sender expects the command to be <em>attempted</em> and potentially result in a state change and/or the emission of one or more events. The sender might expect an acknowledgment of receipt or a more detailed response indicating success/failure or the outcome of the action.</p>
</li>
<li>
<p><strong>Naming Convention:</strong> Often named in the imperative mood (verb-noun), like <code>CreateUser</code>, <code>PlaceOrder</code>, <code>ProcessPayment</code>.</p>
</li>
<li>
<p><strong>Examples:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td>CreateUser</td><td>Request to create a new user</td></tr>
<tr><td>DeleteAccount</td><td>Request to delete a user account</td></tr>
<tr><td>UpdateProfile</td><td>Modify user profile information</td></tr>
<tr><td>ProcessPayment</td><td>Initiate a payment transaction</td></tr>
<tr><td>PlaceOrder</td><td>Submit an order for processing</td></tr>
<tr><td>AssignTask</td><td>Assign a task to an actor</td></tr>
<tr><td>SendEmail</td><td>Trigger an email to be sent</td></tr>
<tr><td>ScheduleReminder</td><td>Schedule a reminder for future action</td></tr>
<tr><td>ApproveRequest</td><td>Approve a pending request</td></tr>
<tr><td>RetryJob</td><td>Retry a failed background job</td></tr>
</tbody></table>
</div></li>
</ul>
<h2 id="events-representing-facts"><a class="header" href="#events-representing-facts">Events (Representing Facts)</a></h2>
<p><strong>Events</strong> represent something that <em>has already happened</em> in the system. They are declarative statements of fact about a state change. Events are the result of successfully processing a Command (or sometimes external occurrences).</p>
<ul>
<li>
<p><strong>Nature:</strong> Declarative, a statement of fact.</p>
</li>
<li>
<p><strong>Direction:</strong> Usually published to a Pub/Sub topic or message bus, to be consumed by any interested party. Events are often broadcast.</p>
</li>
<li>
<p><strong>Expectation:</strong> Publishers of events typically use <code>tell</code> (fire-and-forget) and do not expect a direct response from consumers. Consumers react to the event asynchronously.</p>
</li>
<li>
<p><strong>Naming Convention:</strong> Often named in the past tense (noun-verb), like <code>UserCreated</code>, <code>OrderPlaced</code>, <code>PaymentProcessed</code>.</p>
</li>
<li>
<p><strong>Examples:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Event</th><th>Description</th></tr></thead><tbody>
<tr><td>UserCreated</td><td>A new user has been successfully created</td></tr>
<tr><td>AccountDeleted</td><td>A user account has been removed</td></tr>
<tr><td>ProfileUpdated</td><td>A user profile was updated</td></tr>
<tr><td>PaymentProcessed</td><td>A payment was completed successfully</td></tr>
<tr><td>OrderPlaced</td><td>An order was submitted</td></tr>
<tr><td>TaskAssigned</td><td>A task was assigned to someone</td></tr>
<tr><td>EmailSent</td><td>An email was successfully delivered</td></tr>
<tr><td>ReminderTriggered</td><td>A reminder has fired</td></tr>
<tr><td>RequestApproved</td><td>A request has been approved</td></tr>
<tr><td>JobRetried</td><td>A job retry was initiated</td></tr>
</tbody></table>
</div></li>
</ul>
<p>Events are crucial for decoupling. An actor emitting an event doesn't need to know <em>who</em> is interested or what they will do. Other actors (subscribers) can react to events to update read models, trigger side effects, or initiate subsequent commands/workflows.</p>
<h2 id="queries-requesting-information"><a class="header" href="#queries-requesting-information">Queries (Requesting Information)</a></h2>
<p><strong>Queries</strong> are requests for information about the current state of the system. They are not intended to change the system's state.</p>
<ul>
<li>
<p><strong>Nature:</strong> Interrogative, a request for data.</p>
</li>
<li>
<p><strong>Direction:</strong> Directed at an actor or service responsible for providing the requested information (often read models optimized for querying).</p>
</li>
<li>
<p><strong>Expectation:</strong> The sender explicitly expects a response containing the requested data.</p>
</li>
<li>
<p><strong>Naming Convention:</strong> Often named to reflect the data being requested (e.g., <code>GetUserProfile</code>, <code>ListOrders</code>, <code>GetOrderStatus</code>).</p>
</li>
<li>
<p><strong>Examples:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Query</th><th>Description</th></tr></thead><tbody>
<tr><td>GetUserProfile</td><td>Retrieve details for a specific user</td></tr>
<tr><td>ListOrders</td><td>Get a list of orders for a user</td></tr>
<tr><td>GetOrderStatus</td><td>Check the current status of an order</td></tr>
<tr><td>FindProductsByCategory</td><td>Find products within a given category</td></tr>
<tr><td>CountActiveUsers</td><td>Get the total number of active users</td></tr>
</tbody></table>
</div></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../messaging_concepts/ask.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../persistance.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../messaging_concepts/ask.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../persistance.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
